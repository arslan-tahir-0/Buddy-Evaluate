<%# Only show article if published and it is User %>
<%# In case of moderator show all posts with editable status %>
<div class="blog-field">



<div class="card flex-md-row mb-4 shadow-sm h-md-250">
    <div class="card-body d-flex flex-column align-items-start border border-dark">
      <strong class="d-inline-block mb-2 text-primary"><%= blog.status.to_s %></strong>
      <h3 class="mb-0">
        <%= link_to blog.heading, blog_path(blog.id), class:"text-dark" %>
      </h3>
      <div class="mb-3 text-muted"></div>
      <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
      <%# Show post edit options to Moderator %>
      <div class="flex-row my-3">
      <a href=<%=blog_path(blog.id)%> class="my-3 mr-3">Continue reading</a>
      <% if blog.user_id == current_user.id %>
      <%= link_to "Delete Blog", blog_path(blog), method: :delete, class:"btn btn-danger", remote: :true %>
      <%# Controls in Card %>
      <%end%>
      <%# Flex row ending %>
      </div>
      <% if current_user.Moderator?%>
      <div>
          <div id="post-approve-controls">
          <%= button_to "Approve", blog_path(blog.id), method: :patch, remote: false, class:'btn btn-success', params:{:status => "Publish"}%>
          </div>

          <div id="post-report-controls" style="display: none">
          <%= button_to "Delete", blog_path(blog.id), method: :patch, class:"btn btn-danger mr-3", remote: false, params:{:status => "Publish"}%>
          <%= button_to "Unpublish", blog_path(blog.id), method: :patch, remote: false, class:"btn btn-secondary", params:{:status => "Unpublish"}%>
          </div>
      </div>
      <%end%>

      <%# Card Ending %>
    </div>


</div>

<%# If Moderator show him controls %>

<%# Blog field ending %>
</div>

